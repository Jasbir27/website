(this.webpackJsonpindtrader=this.webpackJsonpindtrader||[]).push([[0],{33:function(e,t,a){e.exports=a.p+"static/media/EURCAD.829782de.svg"},45:function(e,t,a){e.exports=a(76)},50:function(e,t,a){},51:function(e,t,a){},62:function(e,t,a){e.exports=a.p+"static/media/FlyingDollars.ccc7787d.mp4"},63:function(e,t,a){e.exports=a.p+"static/media/loading.10775f2a.mp4"},69:function(e,t,a){e.exports=a.p+"static/media/imageLoadingSpinner.8dcf0fa9.gif"},72:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(30),r=a(0),l=a.n(r),o=a(28),i=a.n(o),s=(a(50),a(6)),c=a(7),u=a(9),d=a(8),m=(a(51),a(81)),h=a(16),p=Object(h.a)(),g=a(3),b=a(78),f=a(79),v=a(82),E=a(80),y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).emailId=n.props.emailId,n.password=n.props.password,n.handleSubmit=n.handleSubmit.bind(Object(g.a)(n)),n.handleEmailChange=n.handleEmailChange.bind(Object(g.a)(n)),n.handlePasswordChange=n.handlePasswordChange.bind(Object(g.a)(n));var r=n.props.userDetails;return n.state={emailId:r.emailId,password:r.password},n}return Object(c.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.emailId,a=this.state.password;this.props.submitLogin(t,a)}},{key:"handleEmailChange",value:function(e){this.setState({emailId:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"renderErrorMsg",value:function(){var e=this.props.errorMsg;return e?l.a.createElement("h6",{style:{color:"red"}}," ",e):""}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"container-fluid-flexbox "},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"card card-signin flexbox"},l.a.createElement("div",{className:"card-body"},this.renderErrorMsg(),l.a.createElement("form",{className:"form-signin",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-label-group"},l.a.createElement("input",{type:"email",id:"inputEmail",className:"form-control",placeholder:"Email address",required:!0,autoFocus:!0,onChange:this.handleEmailChange}),l.a.createElement("label",{htmlFor:"inputEmail"},"Email address")),l.a.createElement("div",{className:"form-label-group"},l.a.createElement("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0,onChange:this.handlePasswordChange}),l.a.createElement("label",{htmlFor:"inputPassword"},"Password")),l.a.createElement("div",{className:"custom-control custom-checkbox mb-3"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck1"},"Remember password")),l.a.createElement("button",{className:"btn btn-lg btn-primary btn-block text-uppercase",type:"submit"},"Sign in"),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("button",{className:"btn btn-lg btn-google btn-block text-uppercase",type:"submit"},"Sign in with Google"),l.a.createElement("button",{className:"btn btn-lg btn-facebook btn-block text-uppercase",type:"submit"}," Sign in with Facebook"))))))))}}]),a}(r.Component),k=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(g.a)(n)),n.handleUserNameChage=n.handleUserNameChage.bind(Object(g.a)(n)),n.handleEmailChange=n.handleEmailChange.bind(Object(g.a)(n)),n.handlePasswordChange1=n.handlePasswordChange1.bind(Object(g.a)(n)),n.handlePasswordChange2=n.handlePasswordChange2.bind(Object(g.a)(n));var r=n.props.userDetails;return console.log("userDetails "+r),n.state={userName:r.userName,emailId:r.emailId,password1:r.password,password2:r.password},n}return Object(c.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.userName,a=this.state.emailId,n=this.state.password1;if(n!=this.state.password2)return this.setState({passwordMistach:!1}),void this.setState({passwordMistach:!0});this.props.submitRegister(t,a,n)}},{key:"handleEmailChange",value:function(e){this.setState({emailId:e.target.value})}},{key:"handleUserNameChage",value:function(e){this.setState({userName:e.target.value})}},{key:"handlePasswordChange1",value:function(e){this.setState({password1:e.target.value})}},{key:"handlePasswordChange2",value:function(e){this.setState({password2:e.target.value})}},{key:"renderErrorMsg",value:function(){var e=this.props.errorMsg;return e?l.a.createElement("h6",{style:{color:"red"}}," ",e):""}},{key:"renderPasswordMismatch",value:function(){return this.state.passwordMistach?l.a.createElement("h6",{style:{color:"red"}}," password doesn't match. "):""}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"container-fluid-flexbox "},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col  "},l.a.createElement("div",{className:"card card-signin flexbox"},l.a.createElement("div",{className:"card-img-left d-none d-md-flex"}),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{className:"form-signin",onSubmit:this.handleSubmit},this.renderErrorMsg(),l.a.createElement("div",{className:"form-label-group"},l.a.createElement("input",{type:"text",id:"inputUserame",className:"form-control",placeholder:"Username",required:!0,autoFocus:!0,onChange:this.handleUserNameChage}),l.a.createElement("label",{htmlFor:"inputUserame"},"Username")),l.a.createElement("div",{className:"form-label-group"},l.a.createElement("input",{type:"email",id:"inputEmail",className:"form-control",placeholder:"Email address",required:!0,onChange:this.handleEmailChange}),l.a.createElement("label",{htmlFor:"inputEmail"},"Email address")),l.a.createElement("hr",null),l.a.createElement("div",{className:"form-label-group"},l.a.createElement("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0,onChange:this.handlePasswordChange1}),l.a.createElement("label",{htmlFor:"inputPassword"},"Password")),l.a.createElement("div",{className:"form-label-group"},l.a.createElement("input",{type:"password",id:"inputConfirmPassword",className:"form-control",placeholder:"Password",required:!0,onChange:this.handlePasswordChange2}),l.a.createElement("label",{htmlFor:"inputConfirmPassword"},"Confirm password")),this.renderPasswordMismatch(),l.a.createElement("button",{className:"btn btn-lg btn-primary btn-block text-uppercase",type:"submit"},"Register"),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("button",{className:"btn btn-lg btn-google btn-block text-uppercase",type:"submit"},l.a.createElement("i",{className:"fab fa-google mr-2"})," Sign up with Google"),l.a.createElement("button",{className:"btn btn-lg btn-facebook btn-block text-uppercase",type:"submit"},l.a.createElement("i",{className:"fab fa-facebook-f mr-2"})," Sign up with Facebook"))))))))}}]),a}(r.Component),w="LOGIN_REQUEST",N="LOGIN_SUCCESS",C="LOGIN_FAILURE",x="REGISTER_REQUEST",O="REGISTER_SUCCESS",S="REGISTER_FAILURE",P="LOGOUT",j=a(5),U=a.n(j),R={login:function(e,t){return function(a){a({type:w,user:{username:e}}),j.auth().setPersistence(j.auth.Auth.Persistence.LOCAL).then((function(){j.auth().signInWithEmailAndPassword(e,t).catch((function(e){return a(function(e){return console.log("in error block "),{type:C,user:e}}(e.message))})).then((function(e){var t=j.auth().currentUser;t&&(p.push("/home"),console.log("here it is "+t.email),a(function(e){return{type:N,user:e}}(t)))}))})).catch((function(e){e.code;var t=e.message;console.log("errorMessage "+t)}))}}};var I={display:"flex",position:"relative",width:"100%",height:"100%",left:"0px",top:"0px",objectFit:"cover",zIndex:-3,opacity:.5,margin:0,background:"red"},F={display:"flex",position:"relative",width:"100%",height:"100%",left:"0px",top:"0px",objectFit:"cover",zIndex:"10",opacity:.5,margin:0,background:"red"},L=(l.a.Component,function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return l.a.createElement("video",{autoPlay:!0,muted:!0,loop:!0,style:F},l.a.createElement("source",{src:a(63),type:"video/mp4"}),"Your browser does not support the video tag.")}}]),n}(l.a.Component)),M=a(23),D={position:"relative",display:"flex",width:"100%",height:"100%",padding:"0px"},A={display:"flex",width:"100%",height:"100%",fontSize:26,justifyContent:"center",alignItems:"center",background:"white",color:"black",borderColor:"#FFFF #FFFF #777 #FFFF",alignText:"center",borderRadius:"10px 0px 0px 0px",boxShadow:"none"},T={display:"flex",width:"100%",height:"100%",fontSize:26,justifyContent:"center",alignItems:"center",background:"#777",alignText:"center",border:"0",borderColor:"#777 #777 #777 #777",borderRadius:"10px 0px 0px 0px"},W={display:"flex",width:"100%",height:"100%",fontSize:26,justifyContent:"center",alignItems:"center",background:"white",color:"black",borderColor:"#FFFFFF #FFFFFF #777 #FFFFFF",alignText:"center",borderRadius:"0px 10px 0px 0px",boxShadow:"none"},J={display:"flex",width:"100%",height:"100%",fontSize:26,justifyContent:"center",alignItems:"center",background:"#777",alignText:"center",borderColor:"#777 #777 #777 #777",borderRadius:"0px 10px 0px 0px"},B={height:"100%",width:"100%",justifyContent:"center",alignItems:"center",background:"white",padding:"0px",borderRadius:"0px 0px 10px 10px"},G=a(13),z=a.n(G),K=a(24),q=function e(){var t=this;Object(s.a)(this,e),this.loginWithEmail=function(){var e=Object(K.a)(z.a.mark((function e(t,a,n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.auth().setPersistence(j.auth.Auth.Persistence.LOCAL).then((function(){j.auth().signInWithEmailAndPassword(t,a).catch((function(e){return{errorMsg:e.message,result:null}})).then((function(e){e.errorMsg?n({errorMsg:e.errorMsg,result:null}):n({errorMsg:null,result:e.result})}))})).catch((function(e){e.code;var t=e.message;console.log("errorMessage "+t),n({errorMsg:e.message,result:null})}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.registerWithEmail=function(){var e=Object(K.a)(z.a.mark((function e(a,n,r,l){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.auth().setPersistence(j.auth.Auth.Persistence.LOCAL).then((function(){j.auth().createUserWithEmailAndPassword(a,n).catch((function(e){return{errorMsg:e.message,result:null}})).then((function(e){e.errorMsg?l({errorMsg:e.errorMsg,result:null}):(t.updateUserProfile(r,(function(e){})),l({errorMsg:null,result:e.result}))}))})).catch((function(e){e.code;var t=e.message;console.log("errorMessage "+t),l({errorMsg:e.message,result:null})}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),this.updateUserProfile=function(){var e=Object(K.a)(z.a.mark((function e(t,a){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=j.auth().currentUser,r={},t.userName&&(r.displayName=t.userName),t.photoURL?r.photoURL=t.photoURL:r.photoURL="defaultPhoto.jpg",console.log("photo url is "+r.photoURL),n.updateProfile(r).then((function(){console.log("user details update succesfully");var e=JSON.parse(localStorage.getItem("userDetails"));r.displayName&&(e.displayName=r.displayName),r.photoURL&&(e.photoURL=r.photoURL),localStorage.setItem("userDetails",JSON.stringify(e)),console.log("localstorage updated "),a({errorMsg:null})})).catch((function(e){console.log("user details update failed "+e.message),a({errorMsg:e.message})}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.uploadProfilePhoto=function(){var e=Object(K.a)(z.a.mark((function e(a,n){var r,l;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=JSON.parse(localStorage.getItem("userDetails")),l=r.userId,j.storage().ref("profilePhotos/"+l).put(a).then((function(e){t.updateUserProfile({photoURL:l},(function(){})),console.log("upload finished"),n(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.removeProfilePhoto=function(){var e=Object(K.a)(z.a.mark((function e(a){var n,r,l;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=JSON.parse(localStorage.getItem("userDetails")),r=n.userId,l=j.storage().ref("profilePhotos/"+r),console.log("trying to delete photo "+r),l.delete().then((function(e){console.log("photo deleted"),t.updateUserProfile({s:"s"},(function(){a()}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.loginWithEmail=this.loginWithEmail.bind(this),this.registerWithEmail=this.registerWithEmail.bind(this),this.updateUserProfile=this.updateUserProfile.bind(this),this.uploadProfilePhoto=this.uploadProfilePhoto.bind(this),this.removeProfilePhoto=this.removeProfilePhoto.bind(this)},_=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={tabKey:n.props.tabKey,userDetails:{userName:"",emailId:"",password:"",remeberMe:""},spinnerFlag:!1,errorMsg:null},n.onPressTab=n.onPressTab.bind(Object(g.a)(n)),n.submitLogin=n.submitLogin.bind(Object(g.a)(n)),n.submitRegister=n.submitRegister.bind(Object(g.a)(n)),n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){this.props.tabKey!==e.tabKey&&this.setState({tabKey:this.props.tabKey})}},{key:"onPressTab",value:function(e){this.setState({tabKey:e})}},{key:"submitLogin",value:function(e,t){var a=this,n=new q;this.setState({spinnerFlag:!0,errorMsg:null}),n.loginWithEmail(e,t,(function(e){console.log("res "+e),e.errorMsg?a.setState({spinnerFlag:!1,errorMsg:e.errorMsg}):p.push("/")}))}},{key:"submitRegister",value:function(e,t,a){var n=this,r={};e&&(r.userName=e);var l=new q;t&&a&&(this.setState({spinnerFlag:!0,errorMsg:null}),l.registerWithEmail(t,a,r,(function(e){console.log("res "+e),e.errorMsg?n.setState({spinnerFlag:!1,errorMsg:e.errorMsg}):p.push("/")})))}},{key:"renderContent",value:function(){var e=this.state.tabKey,t=this.state.userDetails,a=this.state.errorMsg;return console.log(" errorMsg errorMsg "+a),a?(console.log("hey this time its error"),this.leftContent=l.a.createElement(y,{submitLogin:this.submitLogin,userDetails:t,errorMsg:a})):this.leftContent=l.a.createElement(y,{submitLogin:this.submitLogin,userDetails:t}),this.rightContent=a?l.a.createElement(k,{submitRegister:this.submitRegister,userDetails:t,errorMsg:a}):l.a.createElement(k,{submitRegister:this.submitRegister,userDetails:t}),"1"===e?this.leftContent:"2"===e?this.rightContent:void 0}},{key:"renderTab",value:function(){var e=this,t=this.state.tabKey;return"1"===t?l.a.createElement(b.a,{style:{background:"transparent"}},l.a.createElement(f.a,{style:{background:"transparent",padding:"0px"}},l.a.createElement(v.a,{style:A,onClick:function(){return e.onPressTab("1")}}," Sign In")),l.a.createElement(f.a,{style:{background:"transparent",padding:"0px"}},l.a.createElement(v.a,{style:J,onClick:function(){return e.onPressTab("2")}}," Register "))):"2"===t?l.a.createElement(b.a,{style:{background:"transparent"}},l.a.createElement(f.a,{style:{background:"transparent",padding:"0px"}},l.a.createElement(v.a,{style:T,onClick:function(){return e.onPressTab("1")}}," Sign In")),l.a.createElement(f.a,{style:{background:"transparent",padding:"0px"}},l.a.createElement(v.a,{style:W,onClick:function(){return e.onPressTab("2")}}," Register "))):void 0}},{key:"renderSpinner",value:function(){console.log("spinner cchked");var e=this.state.spinnerFlag;return console.log("spinner cchked "+e),e?l.a.createElement("div",{style:{position:"absolute",top:"0px",left:"0px",background:"transparent",width:"100%",height:"100%",zIndex:"2",alignItems:"center",verticalAlign:"middle"}},l.a.createElement(L,null)):""}},{key:"render",value:function(){return l.a.createElement("div",{style:D},this.renderSpinner(),l.a.createElement("div",{style:{position:"relative",top:"0px",left:"0px",background:"transparent",width:"100%",height:"100%",zIndex:"1"}},l.a.createElement(E.a,{fluid:!0},this.renderTab(),l.a.createElement(b.a,null,l.a.createElement(f.a,{style:B}," ",this.renderContent())))))}}]),a}(l.a.Component);var H={login:R.login},V=Object(M.b)((function(e){return{currentAction:e.authentication.currentAction}}),H)(_),Q=a(33),Y=a.n(Q);console.log(" here is pic "),console.log(Y.a);var $={display:"flex",minWidth:"250px",marginRigh:"10px",maxWidth:"500px",minHeight:"25px",maxHeight:"30px",background:"white",fontSize:28,padding:"0px",flexWrap:"nowrap"},X={width:0,height:0,marginTop:"7px",borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"20px solid red"},Z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={imgSource:n.props.imgSource},n}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{style:$},l.a.createElement("img",{src:Y.a,alt:"Logo",style:{marginTop:"1px",background:"transparent",width:"50px",padding:"0px",alignItem:"left"}}),l.a.createElement("div",{style:{display:"flex",background:"transparent",fontWeight:"bold",padding:"0px 5px 10px 10px",fontSize:22,flexWrap:"nowrap"}},"EUR / USD"),l.a.createElement("div",{style:X},"  "),l.a.createElement("div",{style:{display:"flex",background:"transparent",padding:"2px 5px 10px 10px",fontSize:18}},"0.924564 / 0.9834535 "))}}]),a}(l.a.Component),ee=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loading:!0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.authSubscription=U.a.auth().onAuthStateChanged((function(t){e.setState({loading:!1}),t&&p.push("/")}))}},{key:"componentWillUnmount",value:function(){this.authSubscription()}},{key:"render",value:function(){return this.state.loading?l.a.createElement("div",null," Loading ... "):l.a.createElement("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}},l.a.createElement("div",null," This will be top line "),l.a.createElement("marquee",null,l.a.createElement(Z,null)," "),l.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",marginLeft:"10px"}},l.a.createElement("div",null,"this is some content on left side  "),l.a.createElement("div",null,"this is some content on left side  "),l.a.createElement("div",{style:{maxWidth:"90vw",width:"400px"}},"  ",l.a.createElement(V,{tabKey:"1"})," ")))}}]),a}(l.a.Component),te=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).logout=n.logout.bind(Object(g.a)(n)),n.getEmailOrName=n.getEmailOrName.bind(Object(g.a)(n)),n.state={photoUrl:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(e,t,a){var n=this,r=JSON.parse(localStorage.getItem("userDetails"));j.storage().ref("profilePhotos/"+r.photoURL).getDownloadURL().then((function(e){console.log("url "+e),n.setState({photoUrl:e})}))}},{key:"getName",value:function(){return JSON.parse(localStorage.getItem("userDetails")).displayName}},{key:"getEmailOrName",value:function(){return JSON.parse(localStorage.getItem("userDetails")).email}},{key:"getPhotoUrl",value:function(){var e=this.state.photoUrl;return e||""}},{key:"logout",value:function(){j.auth().signOut(),p.push("/login")}},{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark sticky-top"},l.a.createElement("div",{className:"container"},l.a.createElement("a",{className:"navbar-brand",href:"#"},l.a.createElement("img",{src:"http://placehold.it/150x50?text=Logo",alt:""})),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},l.a.createElement("ul",{className:"navbar-nav ml-auto",style:{fontSize:20}},l.a.createElement("li",{className:"nav-item active"},l.a.createElement("a",{className:"nav-link",href:"profile"},l.a.createElement("img",{style:{margin:"2px",borderRadius:"50%",height:"50px"},src:this.getPhotoUrl(),alt:"profilephoto"}),l.a.createElement("span",{className:"sr-only"},"(current)"))),l.a.createElement("li",{className:"nav-item active"},l.a.createElement("a",{className:"nav-link",href:"profile"},l.a.createElement("div",null," ",this.getName()," "))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#"},"About")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#"},"Services")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#"},"Contact")),l.a.createElement("li",{className:"nav-item dropdown"},l.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.getEmailOrName()),l.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},l.a.createElement("a",{className:"dropdown-item",href:"gamehistory"},"Game history"),l.a.createElement("a",{className:"dropdown-item",href:"bankdetails"},"Bank Details"),l.a.createElement("a",{className:"dropdown-item",href:"#"},"Settings"),l.a.createElement("button",{className:"dropdown-item",href:"#",onClick:this.logout},"logout")))))))}}]),a}(l.a.Component),ae=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={file:null,imagePreviewUrl:null,photoUrl:null,mod:"view"},a.handleImageChange=a.handleImageChange.bind(Object(g.a)(a)),a.getImageUrl=a.getImageUrl.bind(Object(g.a)(a)),a.renderButtons=a.renderButtons.bind(Object(g.a)(a)),a.getUploadButton=a.getUploadButton.bind(Object(g.a)(a)),a.handleEditClick=a.handleEditClick.bind(Object(g.a)(a)),a.handleCancelClick=a.handleCancelClick.bind(Object(g.a)(a)),a.handleUploadClick=a.handleUploadClick.bind(Object(g.a)(a)),a.handleRemoveClick=a.handleRemoveClick.bind(Object(g.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(e,t,a){var n=this,r=JSON.parse(localStorage.getItem("userDetails"));j.storage().ref("profilePhotos/"+r.photoURL).getDownloadURL().then((function(e){console.log("url "+e),n.setState({photoUrl:e})}))}},{key:"getImageUrl",value:function(){var e=this.state,t=e.imagePreviewUrl,n=e.photoUrl;return t||n?t||(n||'"https://bootdey.com/img/Content/user-453533-fdadfd.png'):a(69)}},{key:"handleImageChange",value:function(e){var t=this;e.preventDefault(),console.log("here "+e.target.value);var a=new FileReader,n=e.target.files[0];console.log("file "+n),a.onloadend=function(){console.log("action completed"),t.setState({file:n,imagePreviewUrl:a.result,filePath:n})},a.readAsDataURL(n)}},{key:"handleEditClick",value:function(){this.setState({mod:"changeInit"})}},{key:"handleCancelClick",value:function(){this.setState({mod:"view",imagePreviewUrl:null,file:null}),console.log("cancel clicked")}},{key:"handleUploadClick",value:function(){var e=new q,t=this.state.file;e.uploadProfilePhoto(t,(function(){console.log("file upload finished"),window.location.reload(!0)}))}},{key:"handleRemoveClick",value:function(){var e=this;(new q).removeProfilePhoto((function(){e.setState({mod:"view",imagePreviewUrl:null,file:null}),window.location.reload(!0)})).then((function(){e.setState({mod:"view",imagePreviewUrl:null,file:null})}))}},{key:"getUploadButton",value:function(){JSON.parse(localStorage.getItem("userDetails"));var e=this.state,t=e.mod,a=e.imagePreviewUrl;return"changeInit"===t&&a?l.a.createElement("button",{style:{marginTop:"2%",marginLeft:"3%",marginRight:"3%"},onClick:this.handleUploadClick},"Upload"):""}},{key:"renderRemovePhotoButton",value:function(){return"defaultPhoto.jpg"===JSON.parse(localStorage.getItem("userDetails")).photoURL?l.a.createElement("button",{disabled:!0,style:{marginTop:"0%",marginLeft:"3%",marginRight:"3%"}},"Remove photo"):l.a.createElement("button",{style:{marginTop:"0%",marginLeft:"3%",marginRight:"3%"},onClick:this.handleRemoveClick},"Remove photo")}},{key:"renderButtons",value:function(){var e=this.state.mod;return"changeInit"===e?l.a.createElement("div",{style:{position:"relative",top:"0",background:"transparent"}},l.a.createElement("input",{type:"file",onChange:this.handleImageChange}),this.getUploadButton(),l.a.createElement("div",null,l.a.createElement("button",{style:{marginTop:"2%",marginBottom:"1%",marginLeft:"3%",marginRight:"3%"},onClick:this.handleCancelClick},"Cancel"))):"view"===e?l.a.createElement("div",{style:{position:"relative",top:"0",background:"transparent"}},l.a.createElement("button",{style:{marginTop:"0%",marginBottom:"2%",marginLeft:"3%",marginRight:"3%"},onClick:this.handleEditClick},"Change photo"),this.renderRemovePhotoButton()):void 0}},{key:"render",value:function(){return l.a.createElement("div",{className:"row justify-content-center ",style:{background:"white"}},l.a.createElement("div",{className:"col-md-6",style:{background:"transparent"}},l.a.createElement("img",{alt:"",style:{background:"transparent",width:"200px",height:"200px",borderRadius:"50%"},className:"img-circle img-thumbnail isTooltip",src:this.getImageUrl(),"data-original-title":"Usuario"}),this.renderButtons()))}}]),n}(l.a.Component),ne=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).renderNameRow=n.renderNameRow.bind(Object(g.a)(n)),n.renderPhoneRow=n.renderPhoneRow.bind(Object(g.a)(n)),n.handleNameEditClick=n.handleNameEditClick.bind(Object(g.a)(n)),n.handlePhoneEditClick=n.handlePhoneEditClick.bind(Object(g.a)(n)),n.handleNameCancelClick=n.handleNameCancelClick.bind(Object(g.a)(n)),n.handlePhoneCancelClick=n.handlePhoneCancelClick.bind(Object(g.a)(n)),n.handleNameChange=n.handleNameChange.bind(Object(g.a)(n)),n.handlePhoneChange=n.handlePhoneChange.bind(Object(g.a)(n)),n.handleNameUpdateClick=n.handleNameUpdateClick.bind(Object(g.a)(n)),n.handleGetOTPClick=n.handleGetOTPClick.bind(Object(g.a)(n));var r=JSON.parse(localStorage.getItem("userDetails"));return n.state={nameEdit:!1,phoneEdit:!1,userName:r.displayName,newName:r.displayName,phoneNumber:r.phoneNumber,newPhoneNumber:r.phoneNumber,email:r.email},n}return Object(c.a)(a,[{key:"handleNameChange",value:function(e){this.setState({newName:e.target.value})}},{key:"handlePhoneChange",value:function(e){this.setState({newPhoneNumber:e.target.value})}},{key:"handleNameEditClick",value:function(){this.setState({nameEdit:!0})}},{key:"handleNameUpdateClick",value:function(){var e=this.state.newName,t=new q,a=JSON.parse(localStorage.getItem("userDetails"));t.updateUserProfile({userName:e,photoURL:a.photoURL},(function(){window.location.reload(!0)}))}},{key:"handleNameCancelClick",value:function(){var e=this.state.userName;this.setState({nameEdit:!1,newName:e})}},{key:"handlePhoneEditClick",value:function(){this.setState({phoneEdit:!0})}},{key:"handlePhoneCancelClick",value:function(){var e=this.state.phoneNumber;this.setState({phoneEdit:!1,newPhoneNumber:e})}},{key:"handleGetOTPClick",value:function(){var e=this,t=this.state.newPhoneNumber;console.log("requesting otp on phone : "+t),window.recaptchaVerifier=new j.auth.RecaptchaVerifier("recaptcha");var a=t;(new j.auth.PhoneAuthProvider).verifyPhoneNumber(a,window.recaptchaVerifier).then((function(e){var t=prompt("Enter the OTP sent on "+a+": ");if(null!==t)return j.auth.PhoneAuthProvider.credential(e,t)})).then((function(a){j.auth().currentUser.updatePhoneNumber(a),e.setState({phoneEdit:!1,phoneNumber:t});var n=JSON.parse(localStorage.getItem("userDetails"));n.phoneNumber=t,localStorage.setItem("userDetails",JSON.stringify(n)),console.log("state set")})).catch((function(e){console.error(e)}))}},{key:"renderNameRow",value:function(){var e=this.state,t=e.nameEdit,a=e.userName,n=e.newName;return t?l.a.createElement("tr",null,l.a.createElement("td",{style:{textAlign:"left"}},l.a.createElement("strong",null,"Name")),l.a.createElement("td",{className:"text-primary",style:{textAlign:"left"}},l.a.createElement("input",{type:"text",autoFocus:!0,value:n,onChange:this.handleNameChange})),l.a.createElement("td",{style:{textAlign:"right"}},l.a.createElement("button",{style:{width:"35%",margin:"5%"},onClick:this.handleNameUpdateClick},"Update"),l.a.createElement("button",{style:{width:"35%"},onClick:this.handleNameCancelClick},"Cancel"))):l.a.createElement("tr",null,l.a.createElement("td",{style:{textAlign:"left"}},l.a.createElement("strong",null,"Name")),l.a.createElement("td",{className:"text-primary",style:{textAlign:"left"}}," ",a," "),l.a.createElement("td",{style:{textAlign:"right"}},l.a.createElement("button",{style:{width:"35%"},onClick:this.handleNameEditClick},"Edit")))}},{key:"renderPhoneRow",value:function(){var e=this.state,t=e.phoneEdit,a=e.phoneNumber,n=e.newPhoneNumber;return console.log("phoneEdit "+t),t?l.a.createElement("tr",null,l.a.createElement("td",{style:{textAlign:"left"}},l.a.createElement("strong",null,"Phone")),l.a.createElement("td",{className:"text-primary",style:{textAlign:"left"}},l.a.createElement("input",{type:"text",autoFocus:!0,value:n,onChange:this.handlePhoneChange})),l.a.createElement("td",{style:{textAlign:"right"}},l.a.createElement("button",{style:{width:"35%",margin:"5%"},onClick:this.handleGetOTPClick},"Update"),l.a.createElement("button",{style:{width:"35%"},onClick:this.handlePhoneCancelClick},"Cancel"))):l.a.createElement("tr",null,l.a.createElement("td",{style:{textAlign:"left"}},l.a.createElement("strong",null,"Phone")),l.a.createElement("td",{className:"text-primary",style:{textAlign:"left"}},a," "),l.a.createElement("td",{style:{textAlign:"right"}}," ",l.a.createElement("button",{style:{width:"35%"},onClick:this.handlePhoneEditClick},"Edit")))}},{key:"renderCaptcha",value:function(){return this.state.phoneEdit?l.a.createElement("tr",null,l.a.createElement("td",null),l.a.createElement("td",{colSpan:"2"},l.a.createElement("div",{id:"recaptcha"}))):""}},{key:"render",value:function(){var e=this.state.email;return l.a.createElement("div",{className:"container bootstrap snippet",style:{background:"white"}},l.a.createElement("div",{className:"panel-body "},l.a.createElement(ae,null),l.a.createElement("div",{className:"row justify-content-center",style:{alignItems:"center"}},l.a.createElement("table",{className:"table table-hover ",style:{maxWidth:"700px"}},l.a.createElement("tbody",{className:" "},this.renderNameRow(),this.renderCaptcha(),this.renderPhoneRow(),l.a.createElement("tr",null,l.a.createElement("td",{style:{textAlign:"left"}},l.a.createElement("strong",null,"Email")),l.a.createElement("td",{className:"text-primary",style:{textAlign:"left"}},e),l.a.createElement("td",{style:{textAlign:"right"}},".")))))))}}]),a}(l.a.Component),re=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null," This is Bank Details page.")}}]),a}(l.a.Component),le=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null," This is Game History page.")}}]),a}(l.a.Component),oe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loading:!0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.authSubscription=j.auth().onAuthStateChanged((function(t){t?e.setState({loading:!1}):p.push("./login")}))}},{key:"componentWillUnmount",value:function(){this.authSubscription()}},{key:"render",value:function(){return this.state.loading?l.a.createElement("div",null," Loading ... "):l.a.createElement("div",null,l.a.createElement(te,null),l.a.createElement(m.b,{history:p},l.a.createElement("div",Object(n.a)({style:{background:"red"}},"style",{width:"100vw",height:"100vh"}),l.a.createElement(m.c,null,l.a.createElement(m.a,{path:"*/profile",component:ne}),l.a.createElement(m.a,{path:"*/bankdetails",component:re}),l.a.createElement(m.a,{path:"*/gamehistory",component:le})))))}}]),a}(l.a.Component),ie=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement(m.b,{history:p},l.a.createElement("div",{className:"App",style:{width:"100vw",height:"100vh"}},l.a.createElement(m.c,null,l.a.createElement(m.a,{exact:!0,path:"/",component:oe}),l.a.createElement(m.a,{exact:!0,path:"/login",component:ee}),l.a.createElement(m.a,{path:"*",component:oe}))))}}]),a}(l.a.Component);var se=Object(M.b)((function(e){return{}}),{})(ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(38),a(71),a(39),a(72);var ce=a(21),ue=a(43),de=JSON.parse(localStorage.getItem("userDetails")),me=de?{loggedIn:!0,user:de}:{};var he=Object(ce.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{currentAction:"loggingIn",user:t.user};case N:return{currentAction:"loggedIn",user:t.user};case C:return console.log("reducing to error"),{currentAction:"errorOccured",user:t.user};case P:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{registering:!0};case O:case S:return{};default:return e}}});a(73).config();var pe=Object(ce.d)(he,{},Object(ce.a)(ue.a));U.a.initializeApp({apiKey:"AIzaSyBwUTWJ8HMoq4I5PvOuh4ByxOoi05wHGsw",authDomain:"ludo-fa781.firebaseapp.com",databaseURL:"https://ludo-fa781.firebaseio.com",projectId:"ludo-fa781",storageBucket:"ludo-fa781.appspot.com",messagingSenderId:'"353290511404",'}),U.a.auth().onAuthStateChanged((function(e){if(e){var t=Object(n.a)({email:e.email,displayName:e.displayName,photoURL:e.photoURL,userId:e.uid,phoneNumber:e.phoneNumber},"email",e.email);console.log("user is logged in "+JSON.stringify(t)),console.log("phone - "+e.phoneNumber),console.log("cred "+U.a.auth().AuthCredential);var a=localStorage.getItem("userDetails");console.log("prev it was "+a),localStorage.setItem("userDetails",JSON.stringify(t))}else console.log("user is not logged in"),localStorage.removeItem("userDetails")})),i.a.render(l.a.createElement(M.a,{store:pe},l.a.createElement(l.a.StrictMode,null,l.a.createElement(se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.e6d08b44.chunk.js.map